{"ast":null,"code":"import _toConsumableArray from\"/home/lorelai/Schreibtisch/Ironhack/w8 Project3/Collective-App/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/lorelai/Schreibtisch/Ironhack/w8 Project3/Collective-App/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import service from'../api/service';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function EditProject(props){// States\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),projectName=_useState2[0],setProjectName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),projectLocation=_useState4[0],setProjectLocation=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),projectStartDate=_useState6[0],setProjectStartDate=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),projectEndDate=_useState8[0],setProjectEndDate=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),projectDescription=_useState10[0],setProjectDescription=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),projectSkillsNeeded=_useState12[0],setProjectSkillsNeeded=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),projectImageUrl=_useState14[0],setProjectImageUrl=_useState14[1];// where to change the data gained from edit\nvar handleEdit=function handleEdit(e){e.preventDefault();var requestBody={projectName:projectName,projectLocation:projectLocation,projectStartDate:projectStartDate,projectEndDate:projectEndDate,projectDescription:projectDescription,projectSkillsNeeded:projectSkillsNeeded,projectImageUrl:projectImageUrl};axios.put(\"/api/projects/\".concat(props.specificproject._id),requestBody).then(function(){// actualize the projects rendered\nprops.refreshProjects();}).catch(function(err){return console.log(err);});};// ******** this method handles just the file upload ********\nvar handleFileUpload=function handleFileUpload(e){// console.log(\"The file to be uploaded is: \", e.target.files[0]);\nvar uploadData=new FormData();uploadData.append(\"projectImageUrl\",e.target.files[0]);service.uploadImage(uploadData).then(function(response){setProjectImageUrl([].concat(_toConsumableArray(projectImageUrl),[response.secure_url]));}).catch(function(err){return console.log(\"Error while uploading the file: \",err);});};var storedToken=localStorage.getItem('authToken');// get specific project from backend to edit it\nvar getProjectToEdit=function getProjectToEdit(){axios.get(\"/api/projects/\".concat(props.specificproject._id),{headers:{Authorization:\"Bearer \".concat(storedToken)}}).then(function(response){console.log('axiosgetproject',response.data);var projectName=response.data.projectName;var projectLocation=response.data.projectLocation;var projectStartDate=response.data.projectStartDate;var projectEndDate=response.data.projectEndDate;var projectDescription=response.data.projectDescription;var projectSkillsNeeded=response.data.projectSkillsNeeded;var projectImageUrl=response.data.projectImageUrl;// console.log('response.data.edit', response.data)\nsetProjectName(projectName);setProjectLocation(projectLocation);setProjectStartDate(projectStartDate);setProjectEndDate(projectEndDate);setProjectDescription(projectDescription);setProjectSkillsNeeded(projectSkillsNeeded);setProjectImageUrl(projectImageUrl);}).catch(function(err){return console.log(err);});};// use the Project that we got from API\nuseEffect(function(){getProjectToEdit();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:\"EditProject\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleEdit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Projectname: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"projectName\",type:\"text\",value:projectName,onChange:function onChange(e){return setProjectName(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Location: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"projectLocation\",type:\"text\",value:projectLocation,onChange:function onChange(e){return setProjectLocation(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Start Date: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"projectStartDate\",type:\"date\",value:projectStartDate,onChange:function onChange(e){return setProjectStartDate(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"End Date: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"projectEndDate\",type:\"date\",value:projectEndDate,onChange:function onChange(e){return setProjectEndDate(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Description: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"projectDescription\",type:\"text\",value:projectDescription,onChange:function onChange(e){return setProjectDescription(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Looking For: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"projectSkillsNeeded\",type:\"text\",value:projectSkillsNeeded,onChange:function onChange(e){return setProjectSkillsNeeded(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Upload images\"}),/*#__PURE__*/_jsx(\"input\",{id:\"projectImages\",name:\"imageUpload\",type:\"file\",onChange:function onChange(e){return handleFileUpload(e);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save Changes\"})]})]});}","map":{"version":3,"sources":["/home/lorelai/Schreibtisch/Ironhack/w8 Project3/Collective-App/client/src/pagesAdmin/EditProject.js"],"names":["React","useState","useEffect","axios","service","EditProject","props","projectName","setProjectName","projectLocation","setProjectLocation","projectStartDate","setProjectStartDate","projectEndDate","setProjectEndDate","projectDescription","setProjectDescription","projectSkillsNeeded","setProjectSkillsNeeded","projectImageUrl","setProjectImageUrl","handleEdit","e","preventDefault","requestBody","put","specificproject","_id","then","refreshProjects","catch","err","console","log","handleFileUpload","uploadData","FormData","append","target","files","uploadImage","response","secure_url","storedToken","localStorage","getItem","getProjectToEdit","get","headers","Authorization","data","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport service from '../api/service'\n\nexport default function EditProject(props) {\n  // States\n  const [projectName, setProjectName] = useState('')\n  const [projectLocation, setProjectLocation] = useState('')\n  const [projectStartDate, setProjectStartDate] = useState('')\n  const [projectEndDate, setProjectEndDate] = useState('')\n  const [projectDescription, setProjectDescription] = useState('')\n  const [projectSkillsNeeded, setProjectSkillsNeeded] = useState('')\n  const [projectImageUrl, setProjectImageUrl] = useState([]);\n\n  // where to change the data gained from edit\n  const handleEdit = e => {\n    e.preventDefault()\n\t\tconst requestBody = { projectName, projectLocation, projectStartDate, projectEndDate, projectDescription, projectSkillsNeeded, projectImageUrl }\n\t\taxios.put(`/api/projects/${props.specificproject._id}`, requestBody)\n\t\t\t.then(() => {\n        // actualize the projects rendered\n        props.refreshProjects()\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n  // ******** this method handles just the file upload ********\n const handleFileUpload = e => {\n  // console.log(\"The file to be uploaded is: \", e.target.files[0]);\n  const uploadData = new FormData();\n  uploadData.append(\"projectImageUrl\", e.target.files[0]);\n  service\n    .uploadImage(uploadData)\n    .then(response => {\n      setProjectImageUrl([...projectImageUrl, response.secure_url]);\n    })\n    .catch(err => console.log(\"Error while uploading the file: \", err));\n};\n  \n  const storedToken = localStorage.getItem('authToken')\n\n  // get specific project from backend to edit it\n  const getProjectToEdit = () => {\n\t\taxios.get(`/api/projects/${props.specificproject._id}`, { headers: { Authorization: `Bearer ${storedToken}` } })\n    .then(response => {\n      console.log('axiosgetproject', response.data);\t\n        const { projectName } = response.data\n        const { projectLocation } = response.data\n        const { projectStartDate } = response.data\n        const { projectEndDate } = response.data\n        const { projectDescription } = response.data\n        const { projectSkillsNeeded } = response.data\n        const { projectImageUrl } = response.data\n        // console.log('response.data.edit', response.data)\n          setProjectName(projectName)\n          setProjectLocation(projectLocation)\n          setProjectStartDate(projectStartDate)\n          setProjectEndDate(projectEndDate)\n          setProjectDescription(projectDescription)\n          setProjectSkillsNeeded(projectSkillsNeeded)\n          setProjectImageUrl(projectImageUrl)\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n  }\n  // use the Project that we got from API\n  useEffect(() => {getProjectToEdit()}, [])\n\n  return (\n    <>\n       <div>EditProject</div>\n       <form onSubmit={handleEdit}> \n        <label>Projectname: </label>\n        <input id=\"projectName\" type=\"text\" value={projectName} onChange={e => setProjectName(e.target.value)}/>\n        <label>Location: </label>\n        <input id=\"projectLocation\" type=\"text\" value={projectLocation} onChange={e => setProjectLocation(e.target.value)}/>\n        <label>Start Date: </label>\n        <input id=\"projectStartDate\" type=\"date\" value={projectStartDate} onChange={e => setProjectStartDate(e.target.value)}/>\n        <label>End Date: </label>\n        <input id=\"projectEndDate\" type=\"date\" value={projectEndDate} onChange={e => setProjectEndDate(e.target.value)}/>\n        <label>Description: </label>\n        <input id=\"projectDescription\" type=\"text\" value={projectDescription} onChange={e => setProjectDescription(e.target.value)}/>\n        <label>Looking For: </label>\n        <input id=\"projectSkillsNeeded\" type=\"text\" value={projectSkillsNeeded} onChange={e => setProjectSkillsNeeded(e.target.value)}/>\n        {/* file upload img cloudinary */}\n        <div>\n            <h2>Upload images</h2>\n            <input id=\"projectImages\" name=\"imageUpload\" type=\"file\" onChange={(e) => handleFileUpload(e)}/>\n        </div>\n        <button type='submit'>Save Changes</button>\n       </form>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}