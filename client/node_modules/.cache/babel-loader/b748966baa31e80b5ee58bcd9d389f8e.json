{"ast":null,"code":"import _slicedToArray from\"/home/lorelai/Schreibtisch/Ironhack/w8 Project3/Collective-App/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import VolunteersSearchBar from'../components/VolunteersSearchBar';import VolunteerToggle from'../components/VolunteerToggle';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function VolunteersFullList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),volunteers=_useState2[0],setVolunteers=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),toggle=_useState4[0],setToggle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],setSearch=_useState6[1];var storedToken=localStorage.getItem('authToken');var getAllVolunteers=function getAllVolunteers(){axios.get('/api/volunteers',{headers:{Authorization:\"Bearer \".concat(storedToken)}}).then(function(response){console.log(response);setVolunteers(response.data);console.log('volunteers',response.data);console.log(volunteers);}).catch(function(err){return console.log(err);});};useEffect(function(){getAllVolunteers();},[]);if(volunteers===[]){return/*#__PURE__*/_jsx(_Fragment,{children:\"No Applications so far...\"});}// filtering firstName and lastName by Search-Input \nvar filteredVolunteers=volunteers.filter(function(volunteer){if(volunteer.firstName.toLowerCase().includes(search.toLowerCase())||volunteer.lastName.toLowerCase().includes(search.toLowerCase())){return volunteer;}});if(toggle){filteredVolunteers=filteredVolunteers.filter(function(volunteer){return volunteer.hasTools===true;});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(VolunteersSearchBar,{volunteers:volunteers,setSearch:setSearch,search:search}),/*#__PURE__*/_jsx(VolunteerToggle,{setToggle:setToggle}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"E-Mail\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Available from\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Available to\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Experience\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Has Tools\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tools\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Message\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredVolunteers.map(function(volunteer){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:volunteer.firstName}),/*#__PURE__*/_jsx(\"td\",{children:volunteer.lastName}),/*#__PURE__*/_jsxs(\"td\",{children:[volunteer.street,\", \",volunteer.zip,\" \",volunteer.city]}),/*#__PURE__*/_jsx(\"td\",{children:volunteer.email}),/*#__PURE__*/_jsx(\"td\",{children:volunteer.phone}),/*#__PURE__*/_jsx(\"td\",{children:volunteer.timeFrom}),/*#__PURE__*/_jsx(\"td\",{children:volunteer.timeTo}),/*#__PURE__*/_jsx(\"td\",{children:volunteer.experience}),/*#__PURE__*/_jsx(\"td\",{children:volunteer.hasTools&&'X'}),/*#__PURE__*/_jsx(\"td\",{children:volunteer.tools}),/*#__PURE__*/_jsx(\"td\",{children:volunteer.personalMessage})]},volunteer._id)});})})]})})]});}","map":{"version":3,"sources":["/home/lorelai/Schreibtisch/Ironhack/w8 Project3/Collective-App/client/src/pagesAdmin/VolunteersFullList.js"],"names":["React","useState","useEffect","axios","VolunteersSearchBar","VolunteerToggle","VolunteersFullList","volunteers","setVolunteers","toggle","setToggle","search","setSearch","storedToken","localStorage","getItem","getAllVolunteers","get","headers","Authorization","then","response","console","log","data","catch","err","filteredVolunteers","filter","volunteer","firstName","toLowerCase","includes","lastName","hasTools","display","justifyContent","map","street","zip","city","email","phone","timeFrom","timeTo","experience","tools","personalMessage","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from 'react'\nimport axios from 'axios'\nimport VolunteersSearchBar from '../components/VolunteersSearchBar'\nimport VolunteerToggle from '../components/VolunteerToggle';\n\nexport default function VolunteersFullList() {\n\nconst [volunteers, setVolunteers] = useState([]);\nconst [toggle, setToggle] = useState(false)\nconst [search, setSearch] = useState('')\n\nconst storedToken = localStorage.getItem('authToken')\n\nconst getAllVolunteers = () => {\n    axios.get('/api/volunteers', { headers: { Authorization: `Bearer ${storedToken}` }})\n    .then(response => {\n        console.log(response)\n        setVolunteers(response.data)\n        console.log('volunteers', response.data)\n        console.log(volunteers)\n      })\n      .catch(err => console.log(err))\n  }\n\n  useEffect(() => {getAllVolunteers()}, [])\n\n\n  if(volunteers === []) {\n    return <>No Applications so far...</>\n  }\n    // filtering firstName and lastName by Search-Input \n    let filteredVolunteers = volunteers.filter(volunteer => {\n      if(volunteer.firstName.toLowerCase().includes(search.toLowerCase()) || volunteer.lastName.toLowerCase().includes(search.toLowerCase())){\n        return volunteer\n      }\n    })\n    \n    if(toggle){\n      filteredVolunteers = filteredVolunteers.filter(volunteer => {\n        return volunteer.hasTools === true\n     })\n}\n    return (\n      <>\n      <VolunteersSearchBar volunteers={volunteers} setSearch={setSearch} search={search}/>\n      <VolunteerToggle setToggle={setToggle}/>\n        <div style={{ display: 'flex', justifyContent: 'center' }}>\n            <table>\n              <thead>\n                <tr>\n                  <th>First Name</th>\n                  <th>Last Name</th>\n                  <th>Address</th>\n                  <th>E-Mail</th>\n                  <th>Phone</th>\n                  <th>Available from</th>\n                  <th>Available to</th>\n                  <th>Experience</th>\n                  <th>Has Tools</th>\n                  <th>Tools</th>\n                  <th>Message</th>\n                </tr>\n              </thead>\n              <tbody>\n              {filteredVolunteers.map(volunteer => {\n                return (\n                <>\n                <tr key={volunteer._id}>\n                    <td>{volunteer.firstName}</td>\n                    <td>{volunteer.lastName}</td>\n                    <td>{volunteer.street}, {volunteer.zip} {volunteer.city}</td>\n                    <td>{volunteer.email}</td>\n                    <td>{volunteer.phone}</td>\n                    <td>{volunteer.timeFrom}</td>\n                    <td>{volunteer.timeTo}</td>\n                    <td>{volunteer.experience}</td>\n                    <td>{volunteer.hasTools && 'X'}</td>\n                    <td>{volunteer.tools}</td>\n                    <td>{volunteer.personalMessage}</td>\n                </tr>\n                </>\n                )\n              })}\n              </tbody>\n            </table>\n        </div>\n      </>\n    )\n  }\n\n"]},"metadata":{},"sourceType":"module"}