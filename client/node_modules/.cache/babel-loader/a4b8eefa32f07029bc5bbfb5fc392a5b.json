{"ast":null,"code":"import _slicedToArray from\"/home/lorelai/Schreibtisch/WebDev/Collective-App/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'axios';import PopupCreateEvent from'./PopupCreateEvent';import PopupEditEvent from'./PopUpEditEvent';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function EventList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),events=_useState2[0],setEvents=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showCreateEvent=_useState4[0],setShowCreateEvent=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),eventToEdit=_useState6[0],setEventToEdit=_useState6[1];var storedToken=localStorage.getItem('authToken');//popup handle\nvar handlePopupEdit=function handlePopupEdit(event){setEventToEdit(event);};//get events from backend\nvar getAllEvents=function getAllEvents(){axios.get(\"/api/events/\",{headers:{Authorization:\"Bearer \".concat(storedToken)}}).then(function(response){console.log('response.data',response.data);setEvents(response.data);}).catch(function(err){console.log(err);});};useEffect(function(){getAllEvents();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dash-title-box\",children:[\"Events\",/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"create-btn\",onClick:function onClick(){return setShowCreateEvent(!showCreateEvent);},children:\"+\"}),showCreateEvent&&/*#__PURE__*/_jsx(PopupCreateEvent,{refreshEvents:getAllEvents,handleClose:function handleClose(){return setShowCreateEvent(false);}})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"drop-down-btn\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-arrow\",src:\"/images/drop-down-arrow.png\",alt:\"pfeil\"})})})]}),/*#__PURE__*/_jsx(\"div\",{children:events.map(function(event){return/*#__PURE__*/_jsxs(\"div\",{className:\"dash-list-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dash-list-title\",children:event.eventName}),/*#__PURE__*/_jsxs(\"div\",{className:\"dash-btn-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"dash-btn\",onClick:function onClick(){handlePopupEdit(event);},children:\"Edit\"}),eventToEdit&&/*#__PURE__*/_jsx(PopupEditEvent,{handleClose:function handleClose(){setEventToEdit(null);},thisevent:eventToEdit,refreshEvents:getAllEvents}),/*#__PURE__*/_jsx(\"button\",{className:\"dash-btn\",onClick:function onClick(){axios.delete(\"/api/events/\".concat(event._id),{headers:{Authorization:\"Bearer \".concat(storedToken)}}).then(function(deletedProject){console.log('deletedEvent',deletedProject);getAllEvents();}).catch(function(err){return console.log(err);});},children:\"Delete\"})]})]},event._id);})})]});}","map":{"version":3,"sources":["/home/lorelai/Schreibtisch/WebDev/Collective-App/client/src/components/EventList.js"],"names":["React","useEffect","useState","axios","PopupCreateEvent","PopupEditEvent","EventList","events","setEvents","showCreateEvent","setShowCreateEvent","eventToEdit","setEventToEdit","storedToken","localStorage","getItem","handlePopupEdit","event","getAllEvents","get","headers","Authorization","then","response","console","log","data","catch","err","map","eventName","delete","_id","deletedProject"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport PopupCreateEvent from './PopupCreateEvent'\nimport PopupEditEvent from './PopUpEditEvent'\n\n\nexport default function EventList() {\n    \n    const [events, setEvents] = useState([])\n    const [showCreateEvent, setShowCreateEvent] = useState(false)\n    const [eventToEdit, setEventToEdit] = useState(null)\n    \n    const storedToken = localStorage.getItem('authToken')\n    \n    //popup handle\n    const handlePopupEdit = event => {\n      setEventToEdit(event)\n    }\n    \n    //get events from backend\n    const getAllEvents =() => {\n\n      axios.get(`/api/events/`, {headers: {Authorization: `Bearer ${storedToken}`}})\n      .then(response => {\n        console.log('response.data',response.data)\n        setEvents(response.data)\n      })\n      .catch(err => {console.log(err) })\n    }\n    \n   useEffect(() => {\n     getAllEvents()          \n    }, [])\n    \n    \n    return(\n      <>\n        <div>\n          <div className=\"dash-title-box\">\n            Events\n            <div>\n              <button className=\"create-btn\" onClick={()=> setShowCreateEvent(!showCreateEvent)}>+</button>\n                {showCreateEvent && (\n                <PopupCreateEvent refreshEvents={getAllEvents} handleClose={() => setShowCreateEvent(false)}/>\n                )}\n            </div>\n          </div>\n          <div>\n            <button className=\"drop-down-btn\"><img className=\"img-arrow\" src=\"/images/drop-down-arrow.png\" alt=\"pfeil\"></img></button>\n          </div>\n        </div>\n        <div>\n          {events.map(event=>\n          <div className=\"dash-list-item\" key={event._id}>\n            <div className=\"dash-list-title\">{event.eventName}</div>\n            <div className=\"dash-btn-container\">\n              <button  className=\"dash-btn\" onClick={() => {handlePopupEdit(event)}}>Edit</button>\n              {eventToEdit && <PopupEditEvent handleClose={() => {setEventToEdit(null)}} thisevent={eventToEdit} refreshEvents={getAllEvents}/>}\n              <button  className='dash-btn' onClick={() => {\n                axios.delete(`/api/events/${event._id}`, { headers: { Authorization: `Bearer ${storedToken}` } })\n                  .then(deletedProject => {\n                    console.log('deletedEvent', deletedProject)\n                    getAllEvents();\n                  })\n                  .catch(err => console.log(err))\n              }}>Delete</button>\n            </div>\n          </div>\n          )}\n        </div>\n      </>\n    )  \n}"]},"metadata":{},"sourceType":"module"}