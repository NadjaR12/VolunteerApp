{"ast":null,"code":"import _slicedToArray from\"/home/lorelai/Schreibtisch/WebDev/Collective-App/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';import NavbarVisitor from'../components/NavbarVisitor';import DateFilterEvent from'../components/DateFilterEvent';import SearchBarEvent from'../components/SearchBarEvent';import ToggleEvent from'../components/ToggleEvent';import TypeFilterEvent from'../components/TypeFilterEvent';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function EventsVisitors(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),events=_useState2[0],setEvents=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),query=_useState4[0],setQuery=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),eventDate=_useState6[0],setEventDate=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),toggle=_useState8[0],setToggle=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),type=_useState10[0],setType=_useState10[1];var storedToken=localStorage.getItem('authToken');var getAllEvents=function getAllEvents(){axios.get('/api/events',{headers:{Authorization:\"Bearer \".concat(storedToken)}}).then(function(response){console.log('response.data',response.data);setEvents(response.data);}).catch(function(err){console.log(err);});};useEffect(function(){getAllEvents();},[]);var handleClean=function handleClean(){setEventDate('');};var filteredEvents;if(events){filteredEvents=events.filter(function(event){return event.eventName.toLowerCase().includes(query);});}if(events&&eventDate){filteredEvents=filteredEvents.filter(function(event){return event.eventDate===eventDate;});}if(toggle){filteredEvents=filteredEvents.filter(function(event){return event.eventOutdoor===true;});}if(type!==''){filteredEvents=filteredEvents.filter(function(event){return event.eventType.toLowerCase()===type.toLowerCase();});}return/*#__PURE__*/_jsx(_Fragment,{children:events===null?/*#__PURE__*/_jsx(\"div\",{children:\"Loading ...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavbarVisitor,{}),/*#__PURE__*/_jsx(\"div\",{className:\"heading-project-container\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"UPCOMING EVENTS\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-page-container bg-overlay-event\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-box\",children:[/*#__PURE__*/_jsx(SearchBarEvent,{setQueryProp:setQuery}),/*#__PURE__*/_jsx(TypeFilterEvent,{type:type,setTypeProp:setType}),/*#__PURE__*/_jsx(DateFilterEvent,{eventDate:eventDate,setEventDateProp:setEventDate}),/*#__PURE__*/_jsx(\"button\",{className:\"glow-on-events\",onClick:handleClean,children:\"Reset Date\"}),/*#__PURE__*/_jsx(ToggleEvent,{setCheckProp:setToggle})]}),/*#__PURE__*/_jsx(\"div\",{className:\"event-container\",children:filteredEvents.map(function(event){return/*#__PURE__*/_jsxs(\"div\",{className:\"single-project-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"event-title\",children:event.eventName}),/*#__PURE__*/_jsxs(\"p\",{children:[\"#\",event.eventType]}),/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"map-icon\",src:\"/images/placeholder.png\",alt:\"\"}),event.eventLocation]}),/*#__PURE__*/_jsx(\"div\",{children:event.eventDate}),/*#__PURE__*/_jsx(\"p\",{children:event.eventTime}),/*#__PURE__*/_jsx(\"hr\",{className:\"hr\"}),/*#__PURE__*/_jsx(Link,{className:\"event-link\",to:\"/events/\".concat(event._id),children:\"Details\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"hr\"})]},event._id);})})]})]})});}","map":{"version":3,"sources":["/home/lorelai/Schreibtisch/WebDev/Collective-App/client/src/pagesVisitor/Events.js"],"names":["React","useState","useEffect","Link","axios","NavbarVisitor","DateFilterEvent","SearchBarEvent","ToggleEvent","TypeFilterEvent","EventsVisitors","events","setEvents","query","setQuery","eventDate","setEventDate","toggle","setToggle","type","setType","storedToken","localStorage","getItem","getAllEvents","get","headers","Authorization","then","response","console","log","data","catch","err","handleClean","filteredEvents","filter","event","eventName","toLowerCase","includes","eventOutdoor","eventType","map","eventLocation","eventTime","_id"],"mappings":"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","sourcesContent":["import React,  { useState, useEffect }  from 'react'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\nimport NavbarVisitor from '../components/NavbarVisitor'\nimport DateFilterEvent from '../components/DateFilterEvent'\nimport SearchBarEvent from '../components/SearchBarEvent'\nimport ToggleEvent from '../components/ToggleEvent'\nimport TypeFilterEvent from '../components/TypeFilterEvent'\n\n\nexport default function EventsVisitors() {\n\n    const [events, setEvents] = useState(null)\n    const [query, setQuery] = useState('')\n    const [eventDate ,setEventDate] = useState('')\n    const [toggle, setToggle] = useState(false)\n    const [type, setType] = useState('')\n\n    const storedToken = localStorage.getItem('authToken')\n\n    const getAllEvents =() => {\n        axios.get('/api/events', {headers: {Authorization: `Bearer ${storedToken}`}})\n        .then(response => {\n            console.log('response.data', response.data)\n            setEvents(response.data)\n        })\n       .catch(err => {console.log(err) })\n   }\n   useEffect(()=> {getAllEvents()}, [])\n\n   const handleClean = () => {\n       setEventDate('')\n   }\n\n    let filteredEvents;\n\n    if(events){\n        filteredEvents = events.filter(event => {\n            return event.eventName.toLowerCase().includes(query)\n    })}\n    if(events && eventDate){\n        filteredEvents = filteredEvents.filter(event => {\n            return event.eventDate === eventDate\n         })\n    }\n    if(toggle){\n        filteredEvents = filteredEvents.filter(event => {\n            return event.eventOutdoor === true\n        })\n    }\n    if(type !== ''){\n        filteredEvents = filteredEvents.filter( event => {\n            return event.eventType.toLowerCase() === type.toLowerCase()\n       })\n    }\n   \n    return(\n    <>\n    {events === null ? <div>Loading ...</div> :\n        <>\n            <NavbarVisitor />\n            <div className=\"heading-project-container\">\n            <h1>UPCOMING EVENTS</h1>\n            </div>\n            <div className=\"event-page-container bg-overlay-event\">\n                {/* Filter Box */}\n                <div className=\"filter-box\">\n                        <SearchBarEvent setQueryProp={setQuery}/>\n                        <TypeFilterEvent type={type} setTypeProp={setType}/>\n                        <DateFilterEvent eventDate={eventDate} setEventDateProp={setEventDate}/>\n                        <button className=\"glow-on-events\" onClick={handleClean}>Reset Date</button> \n                        <ToggleEvent setCheckProp={setToggle}/>\n                </div>\n                {/* Event List */}\n                <div className=\"event-container\">\n                {filteredEvents.map(event => {\n                    return(\n                        <div key={event._id} className=\"single-project-container\">\n                            <h1 className=\"event-title\">{event.eventName}</h1>\n                            <p>#{event.eventType}</p>\n                            <h4><img className=\"map-icon\" src=\"/images/placeholder.png\" alt=\"\"/>{event.eventLocation}</h4>\n                            <div>{event.eventDate}</div>\n                            <p>{event.eventTime}</p>\n                            <hr className=\"hr\"></hr>  \n                            <Link className=\"event-link\" to={`/events/${event._id}`}>Details</Link>\n                            <hr className=\"hr\"></hr>\n                        </div>\n                    )\n                    })} \n                </div>\n            </div>\n        </>\n    }\n    </>\n    )\n}"]},"metadata":{},"sourceType":"module"}