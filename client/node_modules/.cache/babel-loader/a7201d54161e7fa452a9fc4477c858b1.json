{"ast":null,"code":"import _slicedToArray from\"/home/lorelai/Schreibtisch/WebDev/Collective-App/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import axios from'axios';import VolunteersProjectSearchBar from'../components/VolunteersProjectSearchBar';import VolunteerToggle from'../components/VolunteerToggle';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProjectVolunteerList(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),project=_useState2[0],setProject=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),toggle=_useState4[0],setToggle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],setSearch=_useState6[1];var storedToken=localStorage.getItem('authToken');// getting specific project from db\nuseEffect(function(){axios.get(\"/api/projects/\".concat(id),{headers:{Authorization:\"Bearer \".concat(storedToken)}}).then(function(response){// console.log(response.data)\nsetProject(response.data);}).catch(function(err){return console.log(err);});},[]);if(project===''){return/*#__PURE__*/_jsx(_Fragment,{children:\"No Applications so far...\"});}// filtering firstName and lastName by Search-Input \nvar filteredApplications=project.volunteerApplications.filter(function(application){if(application.firstName.toLowerCase().includes(search.toLowerCase())||application.lastName.toLowerCase().includes(search.toLowerCase())){return application;}});// toggle checkbos to get appl. with tools\nif(toggle){filteredApplications=filteredApplications.filter(function(application){return application.hasTools===true;});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(VolunteersProjectSearchBar,{project:project,setSearch:setSearch,search:search}),/*#__PURE__*/_jsx(VolunteerToggle,{setToggle:setToggle}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"E-Mail\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Available from\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Available to\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Experience\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Has Tools\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tools\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Message\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredApplications.map(function(application){console.log('application',application);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:application.firstName}),/*#__PURE__*/_jsx(\"td\",{children:application.lastName}),/*#__PURE__*/_jsxs(\"td\",{children:[application.street,\", \",application.zip,\" \",application.city]}),/*#__PURE__*/_jsx(\"td\",{children:application.email}),/*#__PURE__*/_jsx(\"td\",{children:application.phone}),/*#__PURE__*/_jsx(\"td\",{children:application.timeFrom}),/*#__PURE__*/_jsx(\"td\",{children:application.timeTo}),/*#__PURE__*/_jsx(\"td\",{children:application.experience}),/*#__PURE__*/_jsx(\"td\",{children:application.hasTools&&'X'}),/*#__PURE__*/_jsx(\"td\",{children:application.tools}),/*#__PURE__*/_jsx(\"td\",{children:application.personalMessage})]},application._id)});})})]})})]});}","map":{"version":3,"sources":["/home/lorelai/Schreibtisch/WebDev/Collective-App/client/src/pagesAdmin/ProjectVolunteerList.js"],"names":["React","useState","useEffect","useParams","axios","VolunteersProjectSearchBar","VolunteerToggle","ProjectVolunteerList","id","project","setProject","toggle","setToggle","search","setSearch","storedToken","localStorage","getItem","get","headers","Authorization","then","response","data","catch","err","console","log","filteredApplications","volunteerApplications","filter","application","firstName","toLowerCase","includes","lastName","hasTools","display","justifyContent","map","street","zip","city","email","phone","timeFrom","timeTo","experience","tools","personalMessage","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport axios from 'axios';\nimport VolunteersProjectSearchBar from '../components/VolunteersProjectSearchBar';\nimport VolunteerToggle from '../components/VolunteerToggle';\n\nexport default function ProjectVolunteerList() {\n\nconst { id } = useParams();\nconst [project, setProject] = useState('');\nconst [toggle, setToggle] = useState(false)\nconst [search, setSearch] = useState('');\n\nconst storedToken = localStorage.getItem('authToken')\n\n// getting specific project from db\nuseEffect(() => {\n  axios.get(`/api/projects/${id}`, { headers: { Authorization: `Bearer ${storedToken}` }})\n    .then(response => {\n      // console.log(response.data)\n      setProject(response.data)\n    })\n    .catch(err => console.log(err))\n}, [])\n\n\nif(project === '') {\n  return <>No Applications so far...</>\n}\n  // filtering firstName and lastName by Search-Input \n  let filteredApplications = project.volunteerApplications.filter(application => {\n    if(application.firstName.toLowerCase().includes(search.toLowerCase()) || application.lastName.toLowerCase().includes(search.toLowerCase())){\n      return application\n    }\n  })\n  // toggle checkbos to get appl. with tools\n  if(toggle){\n    filteredApplications = filteredApplications.filter(application => {\n      return application.hasTools === true\n   })\n  }\n\n  return (\n    <>\n    <VolunteersProjectSearchBar project={project} setSearch={setSearch} search={search}/>\n    <VolunteerToggle setToggle={setToggle}/>\n    <div style={{ display: 'flex', justifyContent: 'center' }}>\n          <table>\n            <thead>\n              <tr>\n                <th>First Name</th>\n                <th>Last Name</th>\n                <th>Address</th>\n                <th>E-Mail</th>\n                <th>Phone</th>\n                <th>Available from</th>\n                <th>Available to</th>\n                <th>Experience</th>\n                <th>Has Tools</th>\n                <th>Tools</th>\n                <th>Message</th>\n              </tr>\n            </thead>\n            <tbody>\n            {filteredApplications.map(application => {\n              console.log('application', application)\n              return (\n              <>\n              <tr key={application._id}>\n                  <td>{application.firstName}</td>\n                  <td>{application.lastName}</td>\n                  <td>{application.street}, {application.zip} {application.city}</td>\n                  <td>{application.email}</td>\n                  <td>{application.phone}</td>\n                  <td>{application.timeFrom}</td>\n                  <td>{application.timeTo}</td>\n                  <td>{application.experience}</td>\n                  <td>{application.hasTools && 'X'}</td>\n                  <td>{application.tools}</td>\n                  <td>{application.personalMessage}</td>\n              </tr>\n              </>\n              )\n            })}\n            </tbody>\n          </table>\n      </div>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}