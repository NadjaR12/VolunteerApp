{"ast":null,"code":"import _slicedToArray from\"/home/lorelai/Schreibtisch/WebDev/Collective-App/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from'react';import{Link,useNavigate}from'react-router-dom';import axios from'axios';import{AuthContext}from'../context/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var API_URL='https://collective-app-2.herokuapp.com';export default function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(undefined),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var navigate=useNavigate();var _useContext=useContext(AuthContext),storeToken=_useContext.storeToken,authenticateAdmin=_useContext.authenticateAdmin;var handleSubmit=function handleSubmit(e){e.preventDefault();var requestBody={email:email,password:password};axios.post(\"/api/auth/login\",requestBody).then(function(response){console.log('we have a token');var token=response.data.authToken;// store the token\nstoreToken(token);authenticateAdmin().then(function(){// redirect to projects\nnavigate('/behind-the-scences');});}).catch(function(err){console.log(err);});};var handleEmail=function handleEmail(e){return setEmail(e.target.value);};var handlePassword=function handlePassword(e){return setPassword(e.target.value);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"signup-background\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sign-box\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h3\",{children:\"Login\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signup-box-together\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"signup-text-input\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email \"})}),/*#__PURE__*/_jsx(\"input\",{className:\"signup-input-box\",type:\"text\",name:\"email\",value:email,placeholder:email,onChange:handleEmail})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup-box-together\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"signup-text-input\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password: \"})}),/*#__PURE__*/_jsx(\"input\",{className:\"signup-input-box\",type:\"password\",name:\"password\",value:password,placeholder:\"******\",onChange:handlePassword})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"glow-on-hover\",children:\"Log In\"})})]})}),errorMessage&&/*#__PURE__*/_jsx(\"h3\",{children:errorMessage}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Don't have an account?\",/*#__PURE__*/_jsx(Link,{to:\"/behind-the-scences/signup\",children:\"Signup\"})]})]})})});}","map":{"version":3,"sources":["/home/lorelai/Schreibtisch/WebDev/Collective-App/client/src/pagesLog/Login.js"],"names":["React","useState","useContext","Link","useNavigate","axios","AuthContext","API_URL","Login","email","setEmail","password","setPassword","undefined","errorMessage","setErrorMessage","navigate","storeToken","authenticateAdmin","handleSubmit","e","preventDefault","requestBody","post","then","response","console","log","token","data","authToken","catch","err","handleEmail","target","value","handlePassword"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport axios from 'axios'\nimport { AuthContext } from '../context/auth'\n\nconst API_URL = 'https://collective-app-2.herokuapp.com';\n\nexport default function Login() {\n\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [errorMessage, setErrorMessage] = useState(undefined);\n\n\tconst navigate = useNavigate()\n\n\tconst { storeToken, authenticateAdmin } = useContext(AuthContext)\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault()\n\t\tconst requestBody = { email, password }\n\t\taxios.post(`/api/auth/login`, requestBody)\n\t\t\t.then(response => {\n\t\t\t\t\n\t\t\t\tconsole.log('we have a token')\n\t\t\t\tconst token = response.data.authToken\n\t\t\t\t// store the token\n\t\t\t\tstoreToken(token)\n\t\t\t\tauthenticateAdmin()\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t// redirect to projects\n\t\t\t\t\t\tnavigate('/behind-the-scences')\n\t\t\t\t\t})\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t}\n\n\tconst handleEmail = e => setEmail(e.target.value)\n\tconst handlePassword = e => setPassword(e.target.value)\n\n\treturn (\n\t\t<> \n            <div className='signup-background'>\n\t\t\t\t<div className='sign-box'>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>Login</h3>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div>\t\t\t\n\t\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t<div className='signup-box-together'>\n\t\t\t\t\t\t\t\t<div className='signup-text-input'><label htmlFor=\"email\">Email </label></div>\n\t\t\t\t\t\t\t\t<input className='signup-input-box'\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\tplaceholder={email}\n\t\t\t\t\t\t\t\tonChange={handleEmail} />\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className='signup-box-together'>\n\t\t\t\t\t\t\t\t<div className='signup-text-input'><label htmlFor=\"password\">Password: </label></div>\n\t\t\t\t\t\t\t\t<input className='signup-input-box'\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\tplaceholder='******'\n\t\t\t\t\t\t\t\tonChange={handlePassword} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"glow-on-hover\">Log In</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n            \t\t</div>\n\t\t\t\t\t{errorMessage && <h3>{errorMessage}</h3>}\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\tDon't have an account?<Link to='/behind-the-scences/signup'>Signup</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n            </div>\n\t\t</>\n\t)\n}"]},"metadata":{},"sourceType":"module"}