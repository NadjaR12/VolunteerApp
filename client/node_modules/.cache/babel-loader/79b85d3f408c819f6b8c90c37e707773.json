{"ast":null,"code":"import _toConsumableArray from\"/home/lorelai/Schreibtisch/WebDev/Collective-App/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/lorelai/Schreibtisch/WebDev/Collective-App/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from'axios';// import the service file since we need it to send the data to the server (for file upload)\nimport service from'../api/service';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function CreateProject(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),projectName=_useState2[0],setProjectName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),projectLocation=_useState4[0],setProjectLocation=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),projectStartDate=_useState6[0],setProjectStartDate=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),projectEndDate=_useState8[0],setProjectEndDate=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),projectDescription=_useState10[0],setProjectDescription=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),projectSkillsNeeded=_useState12[0],setProjectSkillsNeeded=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),projectImageUrls=_useState14[0],setProjectImageUrls=_useState14[1];var handleSubmit=function handleSubmit(e){e.preventDefault();// send the data from the state as a post request to the backend\nvar requestBody={projectName:projectName,projectLocation:projectLocation,projectStartDate:projectStartDate,projectEndDate:projectEndDate,projectDescription:projectDescription,projectSkillsNeeded:projectSkillsNeeded,projectImageUrls:projectImageUrls};console.log('requestBody',requestBody);axios.post('/api/projects/create',requestBody).then(function(response){console.log(response);}).catch(function(err){return console.log(err);});// reset the state\nsetProjectName('');setProjectLocation('');setProjectStartDate('');setProjectEndDate('');setProjectDescription('');setProjectSkillsNeeded('');setProjectImageUrls([]);// actualize the projects rendered\nprops.refreshProjects();};// ******** this method handles just the file upload ********\nvar handleFileUpload=function handleFileUpload(e){var uploadData=new FormData();var uploadedFiles=_toConsumableArray(e.target.files);console.log(uploadedFiles);console.log(e.target.files[0]);uploadedFiles.map(function(file){console.log(file);uploadData.append(\"projectImageUrls\",file);service.uploadImage(uploadData).then(function(response){console.log('response.secure_url',response.secure_url);setProjectImageUrls([].concat(_toConsumableArray(response.secure_url),_toConsumableArray(projectImageUrls)));}).catch(function(err){return console.log(\"Error while uploading the file: \",err);});});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create a new Project\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"popUp-form\",onSubmit:handleSubmit,encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popUp-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label-popUp\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputfield\",id:\"projectName\",name:\"projectName\",type:\"text\",value:projectName,onChange:function onChange(e){return setProjectName(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"label-popUp\",children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputfield\",id:\"projectLocation\",name:\"projectLocation\",type:\"text\",value:projectLocation,onChange:function onChange(e){return setProjectLocation(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"label-popUp\",children:\"Project Start\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputfield date-input\",id:\"projectStartDate\",name:\"projectStartDate\",type:\"date\",value:projectStartDate,onChange:function onChange(e){return setProjectStartDate(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"label-popUp\",children:\"Project End\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputfield date-input\",id:\"projectEndDate\",name:\"projectEndDate\",type:\"date\",value:projectEndDate,onChange:function onChange(e){return setProjectEndDate(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"label-popUp\",children:\"Project Description\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputfield\",id:\"projectDescription\",name:\"projectDescription\",type:\"text\",value:projectDescription,onChange:function onChange(e){return setProjectDescription(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"label-popUp\",children:\"Looking for Volunteers\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputfield\",id:\"projectSkillsNeeded\",name:\"projectSkillsNeeded\",type:\"text\",value:projectSkillsNeeded,onChange:function onChange(e){return setProjectSkillsNeeded(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Upload images\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputfield\",id:\"projectImages\",name:\"projectImageUrls\",type:\"file\",onChange:function onChange(e){return handleFileUpload(e);},multiple:true})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"popUp-btn\",type:\"submit\",children:\"+\"})]})]});}","map":{"version":3,"sources":["/home/lorelai/Schreibtisch/WebDev/Collective-App/client/src/components/CreateProject.js"],"names":["React","useState","axios","service","CreateProject","props","projectName","setProjectName","projectLocation","setProjectLocation","projectStartDate","setProjectStartDate","projectEndDate","setProjectEndDate","projectDescription","setProjectDescription","projectSkillsNeeded","setProjectSkillsNeeded","projectImageUrls","setProjectImageUrls","handleSubmit","e","preventDefault","requestBody","console","log","post","then","response","catch","err","refreshProjects","handleFileUpload","uploadData","FormData","uploadedFiles","target","files","map","file","append","uploadImage","secure_url","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport axios from 'axios'\n// import the service file since we need it to send the data to the server (for file upload)\nimport service from '../api/service'\n\nexport default function CreateProject(props) {\n\nconst [projectName, setProjectName] = useState('')\nconst [projectLocation, setProjectLocation] = useState('')\nconst [projectStartDate, setProjectStartDate] = useState('')\nconst [projectEndDate, setProjectEndDate] = useState('')\nconst [projectDescription, setProjectDescription] = useState('')\nconst [projectSkillsNeeded, setProjectSkillsNeeded] = useState('')\nconst [projectImageUrls, setProjectImageUrls] = useState([]);\n\nconst handleSubmit = e => {\n    e.preventDefault()\n    // send the data from the state as a post request to the backend\n    const requestBody = { \n        projectName,\n        projectLocation,\n        projectStartDate,\n        projectEndDate,\n        projectDescription,\n        projectSkillsNeeded,\n        projectImageUrls\n     }\n     console.log('requestBody', requestBody)\n\n\taxios.post('/api/projects/create', requestBody)\n        .then(response => {\n            console.log(response)\n        })\n        .catch(err => console.log(err))\n    // reset the state\n    setProjectName('')\n    setProjectLocation('')\n    setProjectStartDate('')\n    setProjectEndDate('')\n    setProjectDescription('')\n    setProjectSkillsNeeded('')\n    setProjectImageUrls([])\n    // actualize the projects rendered\n    props.refreshProjects()\n}\n\n // ******** this method handles just the file upload ********\n const handleFileUpload = e => {\n    const uploadData = new FormData();\n    const uploadedFiles = [...e.target.files]\n\n    console.log(uploadedFiles)\n    console.log(e.target.files[0])\n    \n    uploadedFiles.map(file  => {\n    console.log(file)\n    uploadData.append(\"projectImageUrls\", file);\n    service\n      .uploadImage(uploadData)\n      .then(response => {\n          console.log('response.secure_url', response.secure_url)\n        setProjectImageUrls([...response.secure_url, ...projectImageUrls]);\n      })\n      .catch(err => console.log(\"Error while uploading the file: \", err));\n    })\n  };\n\n    return (\n    <>\n      <h2>Create a new Project</h2>\n      <form className=\"popUp-form\" onSubmit={handleSubmit} encType=\"multipart/form-data\">\n        <div className=\"popUp-container\">\n          <label className=\"label-popUp\">Name</label>\n          <input className=\"inputfield\" id=\"projectName\" name=\"projectName\"  type=\"text\" value={projectName} onChange={e => setProjectName(e.target.value)} />\n          <label className=\"label-popUp\">Location</label>\n          <input className=\"inputfield\" id=\"projectLocation\" name=\"projectLocation\"  type=\"text\" value={projectLocation} onChange={e => setProjectLocation(e.target.value)}></input>\n          <label className=\"label-popUp\">Project Start</label>\n          <input className=\"inputfield date-input\" id=\"projectStartDate\" name=\"projectStartDate\"  type=\"date\" value={projectStartDate} onChange={e => setProjectStartDate(e.target.value)}></input>\n          <label className=\"label-popUp\">Project End</label>\n          <input className=\"inputfield date-input\" id=\"projectEndDate\" name=\"projectEndDate\" type=\"date\" value={projectEndDate} onChange={e => setProjectEndDate(e.target.value)}></input>\n          <label className=\"label-popUp\">Project Description</label>\n          <input className=\"inputfield\" id=\"projectDescription\" name=\"projectDescription\" type=\"text\" value={projectDescription} onChange={e => setProjectDescription(e.target.value)}></input>\n          <label className=\"label-popUp\">Looking for Volunteers</label>\n          <input className=\"inputfield\" id=\"projectSkillsNeeded\" name=\"projectSkillsNeeded\" type=\"text\" value={projectSkillsNeeded} onChange={e => setProjectSkillsNeeded(e.target.value)}></input>\n        {/* file upload img cloudinary */}\n        <div>\n          <h2>Upload images</h2>\n          <input className=\"inputfield\" id=\"projectImages\" name=\"projectImageUrls\" type=\"file\" onChange={(e) => handleFileUpload(e)} multiple/>\n        </div>\n        </div>\n        <button className=\"popUp-btn\" type=\"submit\">+</button>\n    </form>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}